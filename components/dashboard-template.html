<!DOCTYPE html>
<html lang="ko" data-theme="default">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{DASHBOARD_TITLE}}</title>
  <link rel="icon" type="image/x-icon" href="../assets/favicon.png">
  
  <!-- External Dependencies -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="./dashboard-components.css">
  <link rel="stylesheet" href="./custom-styles.css">
</head>

<body class="dashboard-layout">
  <!-- Header Component -->
  <header class="dashboard-header">
    <div class="header-container">
      <!-- Left Section -->
      <div class="header-left">
        <button id="sidebar-toggle" class="sidebar-toggle-btn" aria-controls="sidebar" aria-label="Toggle Sidebar">
          <svg class="sidebar-icon sidebar-icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M15 18L9 12L15 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <svg class="sidebar-icon sidebar-icon-open hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 12H21M3 6H21M3 18H21" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <a href="{{LOGO_HREF}}" class="logo-link">
          <img src="{{LOGO_SRC}}" alt="{{LOGO_ALT}}" class="logo-image">
        </a>
        
        <h1 class="dashboard-title">{{DASHBOARD_TITLE}}</h1>
      </div>
      
      <!-- Right Section -->
      <div class="header-right">
        <nav class="header-nav">
          <!-- Theme Toggle -->
          <button id="theme-toggle" class="nav-button" aria-label="Toggle Theme">
            <svg class="theme-icon theme-icon-light" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="12" cy="12" r="5" stroke-width="2"/>
              <path d="M12 1V3M12 21V23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M1 12H3M21 12H23M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22" stroke-width="2"/>
            </svg>
            <svg class="theme-icon theme-icon-dark hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79Z" stroke-width="2"/>
            </svg>
          </button>
          
          <!-- User Info -->
          <div class="user-info">
            <button class="user-button">
              <svg class="user-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke-width="2"/>
                <circle cx="12" cy="7" r="4" stroke-width="2"/>
              </svg>
              <span class="user-name">{{USER_NAME}}</span>
            </button>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <div class="dashboard-body">
    <!-- Sidebar Component -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-content">
        <nav class="sidebar-nav">
          <ul class="nav-list">
            {{NAVIGATION_ITEMS}}
          </ul>
        </nav>
        
        <!-- Sidebar Footer -->
        <div class="sidebar-footer">
          {{SIDEBAR_FOOTER}}
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Page Header -->
      <div class="page-header">
        <div class="page-title-section">
          <h2 class="page-title">{{PAGE_TITLE}}</h2>
          <p class="page-description">{{PAGE_DESCRIPTION}}</p>
        </div>
        
        <div class="page-actions">
          {{PAGE_ACTIONS}}
        </div>
      </div>

      <!-- Content Grid -->
      <div class="content-grid">
        {{CONTENT_WIDGETS}}
      </div>
    </main>
  </div>

  <!-- Modal Container -->
  <div id="modal-container">
    {{MODALS}}
  </div>

  <!-- Scripts -->
  <script src="./dashboard-controller.js"></script>
  <script>
    // Initialize Dashboard
    document.addEventListener('DOMContentLoaded', function() {
      const config = {{DASHBOARD_CONFIG}};
      const dashboard = new DashboardController(config);
      dashboard.init();
    });
  </script>
</body>
</html>

<!-- Navigation Item Template -->
<template id="nav-item-template">
  <li class="nav-item-container">
    <div class="nav-item {{NAV_ITEM_CLASSES}}" data-page-id="{{PAGE_ID}}" title="{{NAV_TITLE}}">
      <div class="nav-icon">
        {{NAV_ICON}}
      </div>
      <span class="nav-label">{{NAV_LABEL}}</span>
      {{ACCORDION_ARROW}}
    </div>
    {{SUBMENU}}
  </li>
</template>

<!-- Accordion Submenu Template -->
<template id="submenu-template">
  <div class="submenu accordion-content" style="max-height: 0;">
    <ul class="submenu-list">
      {{SUBMENU_ITEMS}}
    </ul>
  </div>
</template>

<!-- Widget Template -->
<template id="widget-template">
  <div class="widget {{WIDGET_CLASSES}}" data-widget-id="{{WIDGET_ID}}">
    <div class="widget-header">
      <h3 class="widget-title">
        <div class="widget-icon">{{WIDGET_ICON}}</div>
        {{WIDGET_TITLE}}
      </h3>
      <div class="widget-actions">
        {{WIDGET_ACTIONS}}
      </div>
    </div>
    
    <div class="widget-content">
      {{WIDGET_CONTENT}}
    </div>
    
    {{WIDGET_FOOTER}}
  </div>
</template>

<!-- KPI Widget Template -->
<template id="kpi-widget-template">
  <div class="kpi-widget">
    <div class="kpi-icon-container">
      <div class="kpi-icon {{KPI_ICON_COLOR}}">
        {{KPI_ICON}}
      </div>
    </div>
    <div class="kpi-content">
      <p class="kpi-label">{{KPI_LABEL}}</p>
      <p class="kpi-value">
        {{KPI_VALUE}}
        <span class="kpi-unit">{{KPI_UNIT}}</span>
      </p>
      {{KPI_TREND}}
    </div>
  </div>
</template>

<!-- Chart Widget Template -->
<template id="chart-widget-template">
  <div class="chart-container">
    <canvas id="{{CHART_ID}}" class="chart-canvas"></canvas>
  </div>
</template>

<!-- Modal Template -->
<template id="modal-template">
  <div id="{{MODAL_ID}}" class="modal-overlay hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">{{MODAL_TITLE}}</h3>
        <button class="modal-close" aria-label="Close Modal">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M18 6L6 18M6 6L18 18" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-body">
        {{MODAL_CONTENT}}
      </div>
      
      <div class="modal-footer">
        {{MODAL_ACTIONS}}
      </div>
    </div>
  </div>
</template>